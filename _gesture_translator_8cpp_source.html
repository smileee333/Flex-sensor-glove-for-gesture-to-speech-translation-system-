<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gesture translator: C:/Users/Admin/Downloads/gesture_translator/Code_Doc/src/GestureTranslator.cpp Source File</title>
<link rel="icon" href="Flex_logo.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Flex_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Gesture translator<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">to translate sign language gestures into speech signal</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_gesture_translator_8cpp_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">GestureTranslator.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_gesture_translator_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/**</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * @file GestureTranslator.cpp</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> * @brief This file includes the member function definitions of gesture_translator class defined in GestureTranslator.h file. </span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * </span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * @details</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * This file includes the definition of following member functions of gesture_translator class:</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> * * a. gesture_translator(): To initialize the status boolen variable representing availability of DF mini player module to translate all the gestures in the captured sentence. </span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * * b. waitUntilTranslatorAvailable(): To provide the necessary halt in execution of control flow from playing the audio file of next word until previous word&#39;s audio file is completely played.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> * * c. translateGesture(): To play the audio file relevant to word under consideration.</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * * d. isTranslatorAlive(): To return the status boolen variable representing translator being alive or not.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * </span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * @author Smile Guleria</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> * @version 0.0.1</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * </span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> * @copyright Copyright (c) 2023 Smile Guleria </span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> * @license MIT License</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> * </span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">*/</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment"></span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">/**</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment"> * @brief Constructor of gesture_translator class: To initialize the status variable representing availability of DF mini player module to translate all the gestures in the captured sentence.</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment"> * @details</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment"> * status variable shall be initialized to true if following conditions are met:</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment"> * * a. DF mini player being available. Card being inserted. File system in DF mini player being properly initialized as per inserted card. Here we assume that if card is inserted initially then it will remain inserted.</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment"> * * b. Check if audio files are present in SD card for each gesture in each available speech gesture space.</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment"> * @tparam max_sensor_cnt_data_type: this data type is used to represent the gesture id and space id.</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment"> * @see gesture_translator for class description</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment"> */</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> max_sensor_cnt_data_type&gt;</div>
<div class="foldopen" id="foldopen00032" data-start="{" data-end="}">
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="classgesture__translator.html#a80313a3cccf800c51c28c4f8f4b7f722">   32</a></span><a class="code hl_function" href="classgesture__translator.html#a80313a3cccf800c51c28c4f8f4b7f722">gesture_translator&lt;max_sensor_cnt_data_type&gt;::gesture_translator</a>(){</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>        <span class="comment">// initialize the status to be true initially, later following listed conditions, a. and b. should be checked and accordingly value should be toggled if required</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>            status = <span class="keyword">true</span>;  </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>            <span class="comment">// a. to check if DF mini player is available or not</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="_gesture_translator_8h.html#af3d87283b673ca2c5039bae393306a9e">myDFPlayer</a>.begin(<a class="code hl_define" href="group___d_f__mini__player__specific__macro.html#ga6a5320018717ddd97c1ab0551c1da499">FPSerial</a>, <span class="comment">/*isACK = */</span><span class="keyword">true</span>, <span class="comment">/*doReset = */</span><span class="keyword">true</span>)){ <span class="comment">//Check if card is inserted and connections are complete</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>            <span class="comment">// Display the message in the display panel *card issue*</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>                <a class="code hl_variable" href="globals_8h.html#a3849547342b2440abebd9c302bf7af00">display</a>.printInDisplay(<span class="stringliteral">&quot;card issue&quot;</span>);</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>                status = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>            }</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>            <span class="comment">// b. to check if audio file is present in SD card corresponding to each gesture defined in each speech gesture space</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>            <span class="keywordflow">else</span>{</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>            <span class="comment">//--&gt; i. to get an array such that each element of array is corresponding to the speech space available and value in array element corresponds to total number of gestures available in corresponding array. </span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>                max_sensor_cnt_data_type* tmp_gesture_cnt = NULL; <span class="comment">//a pointer to hold the speech space&#39;s gesture count array. </span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>                <a class="code hl_variable" href="globals_8h.html#a9b982a9f68f5b9eee057e708e3fad251">interface</a>.getSpeechSpaceGestureCntArray(tmp_gesture_cnt); <span class="comment">//to retrieve the total gesture count array through gesture database interface api.</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>            <span class="comment">//--&gt; ii. to get an array such that each element of array is corresponding to total number of audio folders meant for each gesture space and value in array element corresponds to total number of audio  </span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>            <span class="comment">//        files in corresponding folder. each audio file should be corresponding to a particular gesture.</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>                max_sensor_cnt_data_type last_space_id = <a class="code hl_variable" href="globals_8h.html#a9b982a9f68f5b9eee057e708e3fad251">interface</a>.getSpaceCnt()-1;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>                max_sensor_cnt_data_type 1st_speech_id = <a class="code hl_variable" href="globals_8h.html#a9b982a9f68f5b9eee057e708e3fad251">interface</a>.getSpeechStartIdx();</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>                <span class="comment">//here we are assuming the total number of speech gesture spaces and folders in SD card are equal.last_space_id is meant for space switch , so we shall not include it in speech space count.</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>                max_sensor_cnt_data_type* tmp_audio_cnt = <span class="keyword">new</span> max_sensor_cnt_data_type[last_space_id-1st_speech_id];</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>                <span class="comment">//last_space_id is meant for space switch , so we shall not include it in speech space count. capturing through each folder and retriving number of audio files. </span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>                <span class="keywordflow">for</span>(max_sensor_cnt_data_type i = 1st_speech_id;i&lt;last_space_id;i++){</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>                    <span class="comment">//here naming of folder is done as per indexing(0,1,2..) in tmp_gesture_cnt array.</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>                    tmp_audio_cnt[i-1st_speech_id] = <a class="code hl_variable" href="_gesture_translator_8h.html#af3d87283b673ca2c5039bae393306a9e">myDFPlayer</a>.readFileCountsInFolder(i-1st_speech_id);</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>                }   </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>            <span class="comment">//--&gt; iii. Now we check if gesture count and audio cnt is same in both tmp_gesture_cnt and tmp_audio_cnt. even if it is mismatched for a particular speech gesture space/folder then we shall mark status  </span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            <span class="comment">//         as false else true        </span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>                <span class="keywordflow">for</span>(max_sensor_cnt_data_type i = 0; i&lt;last_space_id-1st_speech_id; i++){</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>                    <span class="keywordflow">if</span>(tmp_audio_cnt[i]!=tmp_gesture_cnt[i]){</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>                        status = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>                    }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>                }</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>            } </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>}</div>
</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment"></span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">/**</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment"> * @brief Method to provide necessary halt in execution of control flow from playing the audio file of next word until previous word&#39;s audio file is completely played.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"> * @details</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"> * This method checks the busy pin of DF mini player module to know if it is currently playing any audio file or not. If it is playing then it puts the microcontroller </span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"> * in deep sleep mode to save power until the audio file is completely played. Putting microcontroller into deep sleep mode also provide the necessary halt in execution of control flow.</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment"> * @tparam max_sensor_cnt_data_type: this data type is used to represent the gesture id and space id.</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment"> * @see gesture_translator for class description</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment"> * @see DF_busy_pin for pin number description</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment"> */</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> max_sensor_cnt_data_type&gt;</div>
<div class="foldopen" id="foldopen00083" data-start="{" data-end="}">
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classgesture__translator.html#a09ee1d19c0dbdd978c6e1ea8a1609812">   83</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classgesture__translator.html#a09ee1d19c0dbdd978c6e1ea8a1609812">gesture_translator&lt;max_sensor_cnt_data_type&gt;::waitUntilTranslatorAvailable</a>(){</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <span class="comment">// To read the pin indicating the current playing status of Arduino </span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>           <span class="keywordtype">bool</span> play_status=digitalRead(<a class="code hl_define" href="group___i___o__pins.html#gae1cb0c0949d10c73fdb1bae8bc64a73c">DF_busy_pin</a>);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <span class="comment">// To wait and halt the execution of audio playing currently</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>           <span class="keywordflow">if</span>(play_status==<span class="keyword">false</span>){<span class="comment">// here false indicates pin to be low indicating audio being played</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>              <a class="code hl_variable" href="globals_8h.html#a4b2edfeddd044f6f520d8b59527716c5">Power</a>.setPowerMode(<a class="code hl_enumvalue" href="low__power__modes_8h.html#a6bc96fc1c00a47f71f1f971bf5e6e93eae67bf86d4a919894c9a3598c4e5928e8">deep_sleep</a>);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>              <span class="comment">//Configuring busy_pin with wake_up interrupt</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>                cli();<span class="comment">// Disabling the incoming interrupts before configuring interrupt lines so that interrupt is not triggered just after interrupt configuration but before going to sleep</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>                attachInterrupt(digitalPinToInterrupt(<a class="code hl_define" href="group___i___o__pins.html#gae1cb0c0949d10c73fdb1bae8bc64a73c">DF_busy_pin</a>),<a class="code hl_function" href="_gesture_translator_8cpp.html#a467c4c2e8e4cf59b8ba942b942c605a2">wakeup_ISR</a>,High);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>              </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>              <span class="comment">//Allowing the interrupts now</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                sei();</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>              <span class="comment">//Enter into Deep Sleep now</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>              <a class="code hl_variable" href="globals_8h.html#a4b2edfeddd044f6f520d8b59527716c5">Power</a>.startPowerMode();</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>           }</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>}</div>
</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment"></span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">/**</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment"> * @brief ISR meant for disabling the sleep mode and also de-attaching the interrupt pin until waiting is required for subsequent audio playback for next word .</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment"> * @details</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment"> * This ISR is executed when busy pin of DF mini player module goes high indicating that audio playback is completed.</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment"> * @see DF_busy_pin for pin number description</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment"> */</span></div>
<div class="foldopen" id="foldopen00108" data-start="{" data-end="}">
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="_gesture_translator_8cpp.html#a467c4c2e8e4cf59b8ba942b942c605a2">  108</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="_gesture_translator_8cpp.html#a467c4c2e8e4cf59b8ba942b942c605a2">wakeup_ISR</a>(){</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="comment">// Setting power mode to no_sleep</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>      <a class="code hl_variable" href="globals_8h.html#a4b2edfeddd044f6f520d8b59527716c5">Power</a>.setPowerMode(<a class="code hl_enumvalue" href="low__power__modes_8h.html#a6bc96fc1c00a47f71f1f971bf5e6e93eae381ea4926622b087d59772958eba8fd">no_sleep</a>);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">// Disabling the sleep mode until next time we go to it deliberately through code</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>      sleep_disable();</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// deattaching the interrupt from busy pin, so that interrupt doesn&#39;t come later again and interrupt executes next time only when waitUntilTranslatorAvailable() method is invoked</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>      detachInterrupt(digitalPinToInterrupt(<a class="code hl_define" href="group___i___o__pins.html#gae1cb0c0949d10c73fdb1bae8bc64a73c">DF_busy_pin</a>));</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>}</div>
</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment"></span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">/**</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment"> * @brief Method to send command to DF mini player module to play audio as per input gesture space id and gesture id.</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment"> * @see max_sensor_cnt_data_type: this data type is used to represent the gesture id and space id.</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment"> * @see myDFPlayer for object description</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment"> * @see DF_busy_pin for pin number description</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment"> */</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> max_sensor_cnt_data_type&gt;</div>
<div class="foldopen" id="foldopen00125" data-start="{" data-end="}">
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classgesture__translator.html#a0e936dd2ad056acbb304a3b8a39ecee2">  125</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classgesture__translator.html#a0e936dd2ad056acbb304a3b8a39ecee2">gesture_translator&lt;max_sensor_cnt_data_type&gt;::translateGesture</a>(<a class="code hl_struct" href="structsample__ids.html">sample_ids&lt;max_sensor_cnt_data_type&gt;</a> <span class="keywordtype">id</span>){</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="comment">// Calling the DF mini player function to do the playback of audio corresponding to space id and gesture id</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>      <span class="comment">// we would like to keep the indexing same in both gesture space and audio space</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>      <a class="code hl_variable" href="_gesture_translator_8h.html#af3d87283b673ca2c5039bae393306a9e">myDFPlayer</a>.playFolder(<span class="comment">/*Folder_name=*/</span>(<span class="keywordtype">id</span>.space_id-<a class="code hl_variable" href="globals_8h.html#a9b982a9f68f5b9eee057e708e3fad251">interface</a>.getSpeechStartIdx()),<span class="comment">/*Audio_name=*/</span> <span class="keywordtype">id</span>.gesture_id);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment"></span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">/**</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment"> * @brief Method to retrieve the status of gesture translator.</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment"> * @see max_sensor_cnt_data_type: this data type is used to represent the gesture id and space id.</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment"> * @returns boolen variable representing translator being alive or not.</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment"> */</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> max_sensor_cnt_data_type&gt;</div>
<div class="foldopen" id="foldopen00139" data-start="{" data-end="}">
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="classgesture__translator.html#a216d276282e83b368bf909b561384da4">  139</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classgesture__translator.html#a216d276282e83b368bf909b561384da4">gesture_translator&lt;max_sensor_cnt_data_type&gt;::isTranslatorAlive</a>(){</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordflow">return</span> status;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>}</div>
</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="ttc" id="a_gesture_translator_8cpp_html_a467c4c2e8e4cf59b8ba942b942c605a2"><div class="ttname"><a href="_gesture_translator_8cpp.html#a467c4c2e8e4cf59b8ba942b942c605a2">wakeup_ISR</a></div><div class="ttdeci">void wakeup_ISR()</div><div class="ttdoc">ISR meant for disabling the sleep mode and also de-attaching the interrupt pin until waiting is requi...</div><div class="ttdef"><b>Definition</b> <a href="#l00108">GestureTranslator.cpp:108</a></div></div>
<div class="ttc" id="a_gesture_translator_8h_html_af3d87283b673ca2c5039bae393306a9e"><div class="ttname"><a href="_gesture_translator_8h.html#af3d87283b673ca2c5039bae393306a9e">myDFPlayer</a></div><div class="ttdeci">DFRobotDFPlayerMini myDFPlayer</div><div class="ttdoc">declaration of DF mini player object</div><div class="ttdef"><b>Definition</b> <a href="_gesture_translator_8h_source.html#l00032">GestureTranslator.h:32</a></div></div>
<div class="ttc" id="aclassgesture__translator_html_a09ee1d19c0dbdd978c6e1ea8a1609812"><div class="ttname"><a href="classgesture__translator.html#a09ee1d19c0dbdd978c6e1ea8a1609812">gesture_translator::waitUntilTranslatorAvailable</a></div><div class="ttdeci">void waitUntilTranslatorAvailable()</div><div class="ttdoc">Method to provide necessary halt in execution of control flow from playing the audio file of next wor...</div><div class="ttdef"><b>Definition</b> <a href="#l00083">GestureTranslator.cpp:83</a></div></div>
<div class="ttc" id="aclassgesture__translator_html_a0e936dd2ad056acbb304a3b8a39ecee2"><div class="ttname"><a href="classgesture__translator.html#a0e936dd2ad056acbb304a3b8a39ecee2">gesture_translator::translateGesture</a></div><div class="ttdeci">void translateGesture(sample_ids&lt; max_sensor_cnt_data_type &gt; id)</div><div class="ttdoc">Method to send command to DF mini player module to play audio as per input gesture space id and gestu...</div><div class="ttdef"><b>Definition</b> <a href="#l00125">GestureTranslator.cpp:125</a></div></div>
<div class="ttc" id="aclassgesture__translator_html_a216d276282e83b368bf909b561384da4"><div class="ttname"><a href="classgesture__translator.html#a216d276282e83b368bf909b561384da4">gesture_translator::isTranslatorAlive</a></div><div class="ttdeci">bool isTranslatorAlive()</div><div class="ttdoc">Method to retrieve the status of gesture translator.</div><div class="ttdef"><b>Definition</b> <a href="#l00139">GestureTranslator.cpp:139</a></div></div>
<div class="ttc" id="aclassgesture__translator_html_a80313a3cccf800c51c28c4f8f4b7f722"><div class="ttname"><a href="classgesture__translator.html#a80313a3cccf800c51c28c4f8f4b7f722">gesture_translator::gesture_translator</a></div><div class="ttdeci">gesture_translator()</div><div class="ttdoc">Constructor of gesture_translator class: To initialize the status variable representing availability ...</div><div class="ttdef"><b>Definition</b> <a href="#l00032">GestureTranslator.cpp:32</a></div></div>
<div class="ttc" id="aglobals_8h_html_a3849547342b2440abebd9c302bf7af00"><div class="ttname"><a href="globals_8h.html#a3849547342b2440abebd9c302bf7af00">display</a></div><div class="ttdeci">lcd_display&lt; lcdDisplay_used &gt; display</div><div class="ttdoc">global objects declaration</div></div>
<div class="ttc" id="aglobals_8h_html_a4b2edfeddd044f6f520d8b59527716c5"><div class="ttname"><a href="globals_8h.html#a4b2edfeddd044f6f520d8b59527716c5">Power</a></div><div class="ttdeci">powerMode Power</div><div class="ttdef"><b>Definition</b> <a href="globals_8cpp_source.html#l00022">globals.cpp:22</a></div></div>
<div class="ttc" id="aglobals_8h_html_a9b982a9f68f5b9eee057e708e3fad251"><div class="ttname"><a href="globals_8h.html#a9b982a9f68f5b9eee057e708e3fad251">interface</a></div><div class="ttdeci">database_interface&lt; max_sensor_cnt_data_type_macro &gt; interface</div></div>
<div class="ttc" id="agroup___d_f__mini__player__specific__macro_html_ga6a5320018717ddd97c1ab0551c1da499"><div class="ttname"><a href="group___d_f__mini__player__specific__macro.html#ga6a5320018717ddd97c1ab0551c1da499">FPSerial</a></div><div class="ttdeci">#define FPSerial</div><div class="ttdoc">DF-mini player library inclusion macro.</div><div class="ttdef"><b>Definition</b> <a href="_c_o_n_f_i_g_8h_source.html#l00472">CONFIG.h:472</a></div></div>
<div class="ttc" id="agroup___i___o__pins_html_gae1cb0c0949d10c73fdb1bae8bc64a73c"><div class="ttname"><a href="group___i___o__pins.html#gae1cb0c0949d10c73fdb1bae8bc64a73c">DF_busy_pin</a></div><div class="ttdeci">#define DF_busy_pin</div><div class="ttdoc">DF mini player Busy Pin -&gt; meant for reading the playing status of DF mini player module.</div><div class="ttdef"><b>Definition</b> <a href="_c_o_n_f_i_g_8h_source.html#l00013">CONFIG.h:13</a></div></div>
<div class="ttc" id="alow__power__modes_8h_html_a6bc96fc1c00a47f71f1f971bf5e6e93eae381ea4926622b087d59772958eba8fd"><div class="ttname"><a href="low__power__modes_8h.html#a6bc96fc1c00a47f71f1f971bf5e6e93eae381ea4926622b087d59772958eba8fd">no_sleep</a></div><div class="ttdeci">@ no_sleep</div><div class="ttdef"><b>Definition</b> <a href="low__power__modes_8h_source.html#l00037">low_power_modes.h:37</a></div></div>
<div class="ttc" id="alow__power__modes_8h_html_a6bc96fc1c00a47f71f1f971bf5e6e93eae67bf86d4a919894c9a3598c4e5928e8"><div class="ttname"><a href="low__power__modes_8h.html#a6bc96fc1c00a47f71f1f971bf5e6e93eae67bf86d4a919894c9a3598c4e5928e8">deep_sleep</a></div><div class="ttdeci">@ deep_sleep</div><div class="ttdef"><b>Definition</b> <a href="low__power__modes_8h_source.html#l00039">low_power_modes.h:39</a></div></div>
<div class="ttc" id="astructsample__ids_html"><div class="ttname"><a href="structsample__ids.html">sample_ids</a></div><div class="ttdoc">Sample ids data-structure.</div><div class="ttdef"><b>Definition</b> <a href="gesture__database_8h_source.html#l00205">gesture_database.h:205</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d522931ffa1371640980b621734a4381.html">Users</a></li><li class="navelem"><a href="dir_31059516c74acec96613626ef7aefcf7.html">Admin</a></li><li class="navelem"><a href="dir_c821a3b2d2ee5194f22eaaf3969c9746.html">Downloads</a></li><li class="navelem"><a href="dir_de5a7830a3f5e8c3c1c34cb506e81451.html">gesture_translator</a></li><li class="navelem"><a href="dir_bc2eb4b2de5c0b6228508314f7bbc848.html">Code_Doc</a></li><li class="navelem"><a href="dir_17f4724c6285b0d60ba497fe680091d6.html">src</a></li><li class="navelem"><a href="_gesture_translator_8cpp.html">GestureTranslator.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
